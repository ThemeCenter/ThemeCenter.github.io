import{_ as b,c,w as a,F as k,r as y,a as d,b as u,d as h,e as m,o as r,f as p,g as x}from"./index-BWpAL6Qf.js";var l;const C={data(){return{containerId:42,cur:"",list:[],show:!1}},created(){l=this,this.load()},methods:{load(){fetch("https://shomnipotence.github.io/img.list.json").then(o=>o.json()).then(o=>{l.list=o.map(t=>"https://shomnipotence.github.io/wallpaper/"+t),console.log(l.list)}).catch(o=>{console.error("Error fetching data:",o)})},download(){const o=this.cur,t=o.substring(o.lastIndexOf("/")+1);fetch(o).then(s=>s.blob()).then(s=>{const i=window.URL.createObjectURL(s),e=document.createElement("a");e.href=i,e.download=t,document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(i),document.body.removeChild(e)})}}},L={class:"contents"},U={"transition-duration":"0.3s","item-selector":".item"},j={class:"item"},N=["src","onClick"],R=["src"];function B(o,t,s,i,e,_){const w=h("van-button"),v=h("van-popup"),f=m("masonry-tile"),g=m("masonry");return r(),c("div",L,[a((r(),c("div",U,[(r(!0),c(k,null,y(e.list,(n,E)=>a((r(),c("div",j,[p("img",{class:"min-img",src:n,onClick:I=>{e.cur=n,e.show=!0}},null,8,N)])),[[f]])),256))])),[[g,e.containerId]]),d(v,{show:e.show,"onUpdate:show":t[0]||(t[0]=n=>e.show=n),style:{padding:"64px"},"close-on-click-overlay":!0,closeable:""},{default:u(()=>[d(w,{round:"",color:"#000",type:"success",onClick:_.download},{default:u(()=>t[1]||(t[1]=[x("下载")])),_:1},8,["onClick"]),p("img",{class:"cur-img",src:e.cur},null,8,R)]),_:1},8,["show"])])}const V=b(C,[["render",B]]);export{V as default};
